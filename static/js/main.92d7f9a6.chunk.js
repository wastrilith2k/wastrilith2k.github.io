(this.webpackJsonpdungeon=this.webpackJsonpdungeon||[]).push([[0],{10:function(e,c,a){},11:function(e,c,a){},12:function(e,c,a){"use strict";a.r(c);var f=a(0),n=a(1),d=a.n(n),r=a(4),t=a.n(r),o=(a(10),a(11),a(3)),b=["wall","corridor","room","connection","door"],i=132,u=230,y=0,x=1,v=2,l=3,s=4,p={N:{x:0,y:-1},S:{x:0,y:1},E:{x:1,y:0},W:{x:-1,y:0}},g=["#63b598","#ce7d78","#ea9e70","#a48a9e","#c6e1e8","#648177","#0d5ac1","#f205e6","#1c0365","#14a9ad","#4ca2f9","#a4e43f","#d298e2","#6119d0","#d2737d","#c0a43c","#f2510e","#651be6","#79806e","#61da5e","#cd2f00","#9348af","#01ac53","#c5a4fb","#996635","#b11573","#4bb473","#75d89e","#2f3f94","#2f7b99","#da967d","#34891f","#b0d87b","#ca4751","#7e50a8","#c4d647","#e0eeb8","#11dec1","#289812","#566ca0","#ffdbe1","#2f1179","#935b6d","#916988","#513d98","#aead3a","#9e6d71","#4b5bdc","#0cd36d","#250662","#cb5bea","#228916","#ac3e1b","#df514a","#539397","#880977","#f697c1","#ba96ce","#679c9d","#c6c42c","#5d2c52","#48b41b","#e1cf3b","#5be4f0","#57c4d8","#a4d17a","#225b8","#be608b","#96b00c","#088baf","#f158bf","#e145ba","#ee91e3","#05d371","#5426e0","#4834d0","#802234","#6749e8","#0971f0","#8fb413","#b2b4f0","#c3c89d","#c9a941","#41d158","#fb21a3","#51aed9","#5bb32d","#807fb","#21538e","#89d534","#d36647","#7fb411","#0023b8","#3b8c2a","#986b53","#f50422","#983f7a","#ea24a3","#79352c","#521250","#c79ed2","#d6dd92","#e33e52","#b2be57","#fa06ec","#1bb699","#6b2e5f","#64820f","#1c271","#21538e","#89d534","#d36647","#7fb411","#0023b8","#3b8c2a","#986b53","#f50422","#983f7a","#ea24a3","#79352c","#521250","#c79ed2","#d6dd92","#e33e52","#b2be57","#fa06ec","#1bb699","#6b2e5f","#64820f","#1c271","#9cb64a","#996c48","#9ab9b7","#06e052","#e3a481","#0eb621","#fc458e","#b2db15","#aa226d","#792ed8","#73872a","#520d3a","#cefcb8","#a5b3d9","#7d1d85","#c4fd57","#f1ae16","#8fe22a","#ef6e3c","#243eeb","#1dc18","#dd93fd","#3f8473","#e7dbce","#421f79","#7a3d93","#635f6d","#93f2d7","#9b5c2a","#15b9ee","#0f5997","#409188","#911e20","#1350ce","#10e5b1","#fff4d7","#cb2582","#ce00be","#32d5d6","#17232","#608572","#c79bc2","#00f87c","#77772a","#6995ba","#fc6b57","#f07815","#8fd883","#060e27","#96e591","#21d52e","#d00043","#b47162","#1ec227","#4f0f6f","#1d1d58","#947002","#bde052","#e08c56","#28fcfd","#bb09b","#36486a","#d02e29","#1ae6db","#3e464c","#a84a8f","#911e7e","#3f16d9","#0f525f","#ac7c0a","#b4c086","#c9d730","#30cc49","#3d6751","#fb4c03","#640fc1","#62c03e","#d3493a","#88aa0b","#406df9","#615af0","#4be47","#2a3434","#4a543f","#79bca0","#a8b8d4","#00efd4","#7ad236","#7260d8","#1deaa7","#06f43a","#823c59","#e3d94c","#dc1c06","#f53b2a","#b46238","#2dfff6","#a82b89","#1a8011","#436a9f","#1a806a","#4cf09d","#c188a2","#67eb4b","#b308d3","#fc7e41","#af3101","#ff065","#71b1f4","#a2f8a5","#e23dd0","#d3486d","#00f7f9","#474893","#3cec35","#1c65cb","#5d1d0c","#2d7d2a","#ff3420","#5cdd87","#a259a4","#e4ac44","#1bede6","#8798a4","#d7790f","#b2c24f","#de73c2","#d70a9c","#25b67","#88e9b8","#c2b0e2","#86e98f","#ae90e2","#1a806b","#436a9e","#0ec0ff","#f812b3","#b17fc9","#8d6c2f","#d3277a","#2ca1ae","#9685eb","#8a96c6","#dba2e6","#76fc1b","#608fa4","#20f6ba","#07d7f6","#dce77a","#77ecca"],h=[],m=0,j=function(e,c,a){Array.isArray(h[e])||(h[e]=[]),h[e][c]={type:a,regionIdx:m}},O=function(e,c,a){h[e][c].type=a},I=function(){m+=1},k=function(){for(var e=0;e<=u;e++){h[e]=[];for(var c=0;c<=i;c++)j(e,c,y)}},C=function(e){return Math.floor(Math.random()*Math.floor(e))+1},M=function(e){var c=e.maxWidth,a=void 0===c?3:c,f=e.maxHeight,n=void 0===f?3:f,d=2*C(a)+1,r=2*C(n)+1,t=2*C((131-r)/2)-1,o=2*C((229-d)/2)-1;if(function(e,c,a,f){for(var n=c-1;n<=c+f+1;n++)for(var d=e-1;d<=e+a+1;d++)if(h[n][d].type!==y)return!1;return!0}(t,o,r,d)){I();for(var b=o;b<o+d;b++)for(var i=t;i<t+r;i++)j(b,i,v)}},w=function(){for(var e=1;e<u;e+=2)for(var c=1;c<i;c+=2)h[e][c].type===y&&A(e,c)},E=function(e){return!(e.x>229||e.y>131||e.x<1||e.y<1)&&h[e.x][e.y].type===y},F=function(e){var c=e.x,a=e.y,f=e.dir;return{x:c+p[f].x,y:a+p[f].y}},A=function(e,c){var a=[];a.push({x:e,y:c}),I(),j(e,c,x);for(var f=Object.keys(p),n=f[C(f.length-1)],d=function(){var e=a[a.length-1],c=[];f.forEach((function(a){var f=F({x:e.x,y:e.y,dir:a}),n=F({x:f.x,y:f.y,dir:a});E(f)&&E(n)&&c.push(a)}));var d=void 0;if(c.length>0){d=c.map((function(e){return e.dir})).includes(n)&&C(100)>20?n:c[C(c.length)-1];var r=F({x:e.x,y:e.y,dir:d});j(r.x,r.y,x);var t=F({x:r.x,y:r.y,dir:d});j(t.x,t.y,x),a.push({x:t.x,y:t.y}),n=d}else a.pop(),n=null};a.length>0;)d()},S=function(e){var c=e.x,a=e.y,f=[v,x],n=Object.keys(p).reduce((function(e,n){var d=F({x:c,y:a,dir:n}),r=h[d.x][d.y];return f.includes(r.type)&&!e.includes(r.regionIdx)&&e.push(r.regionIdx),e}),[]),d=h[c][a];return Object(o.a)(Object(o.a)({},d),{},{x:c,y:a,regions:n})},B=function(e,c,a){var f=0;return Object.keys(p).forEach((function(n){var d=F({x:e,y:c,dir:n});void 0!==h[d.x][d.y].type&&(d.type=h[d.x][d.y].type),d.type===a&&(f+=1)})),f},J=function(){for(var e=0,c=!1;e<30&&!1===c;){var a=0;e+=1;for(var f=0;f<=u;f++)for(var n=0;n<=i;n++)h[f][n].type===x&&3===B(f,n,y)&&C(100)<=75&&(a+=1,h[f][n].type=y);0===a&&(c=!0)}},L=function(){for(var e=[],c=1;c<u;c++)for(var a=1;a<i;a++)if(h[c][a].type===y){var f=S({x:c,y:a});f.regions.length>=2&&(O(c,a,l),e.push(f))}var n=[],d=[];console.log(m);for(var r=1;r<=m;r++)n[r]=r,d.push(r);for(var t=0,o=2*d.length,b=function(){t++;var c=e[C(e.length)-1];if(void 0===c)return"continue";O(c.x,c.y,s);for(var a=c.regions.map((function(e){return n[e]})),f=a[0],r=a.filter((function(e,c){return c>0})),o=1;o<=m;o++)r.includes(n[o])&&(n[o]=f);d=d.filter((function(e){return!r.includes(e)})),e=e.filter((function(e){return(e.x!==c.x||e.y!==c.y)&&(function(e,c){return!(0===B(e,c,s))}(e.x,e.y)?(O(e.x,e.y,y),!1):e.regions.reduce((function(e,c){return e.includes(n[c])||e.push(n[c]),e}),[]).length>1||(O(e.x,e.y,y),1===C(50)&&j(e.x,e.y,s),!1))}))};d.length>1&&t<o;)b();t>=o&&console.log("Max iterations reached"),console.log("Completed in ".concat(t," iterations."));for(var x=0;x<=u;x++)for(var v=0;v<=i;v++)h[x][v].regionIdx=n[h[x][v].regionIdx]};var N=function(){var e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};k();for(var c=e.roomAttempts,a=void 0===c?1400:c,f=0;f<a;f++)M({});return w(),L(),J(),h}(),c=[x,v];return Object(f.jsx)("div",{id:"dungeon",children:e.map((function(e,a){return e.map((function(e,n){var d={top:"".concat(8*n,"px"),left:"".concat(8*a,"px"),width:"".concat(8,"px"),height:"".concat(8,"px")};return c.includes(e.type)&&(d.backgroundColor=g[e.regionIdx]),Object(f.jsx)("div",{className:"cell ".concat(b[e.type]),style:d},"cell-".concat(a,"-").concat(n))}))}))})},P=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,13)).then((function(c){var a=c.getCLS,f=c.getFID,n=c.getFCP,d=c.getLCP,r=c.getTTFB;a(e),f(e),n(e),d(e),r(e)}))};t.a.render(Object(f.jsx)(d.a.StrictMode,{children:Object(f.jsx)(N,{})}),document.getElementById("root")),P()}},[[12,1,2]]]);
//# sourceMappingURL=main.92d7f9a6.chunk.js.map